<template>
  <style>
    :host {
      position: relative;
      display: inline-block;
      animation: wobble 1.82s infinite linear;
      animation-play-state: inherit;
    }

    :host::before {
      content: "";
      display: block;
      padding-bottom: 100%;
    }

    .tracks {
      display: none;
    }

    svg {
      display: block;
      width: 100%;
      height: 100%;
      position: absolute;
      left: 0;
      top: 0;
    }

    .grooves,
    .label {
      animation: spin 1.82s infinite linear;
      transform-origin: center;
      animation-play-state: inherit;
    }



    @keyframes wobble {
      0% { transform: rotateX(5deg) rotateY(0deg); }
      25% { transform: rotateX(0deg) rotateY(5deg); }
      50% { transform: rotateX(-5deg) rotateY(0deg); }
      75% { transform: rotateX(0deg) rotateY(-5deg); }
      100% { transform: rotateX(5deg) rotateY(0deg); }
    }

    @keyframes spin {
      from { transform: rotateZ(124deg); }
      to { transform: rotateZ(484deg); }
    }
  </style>

  <div class="tracks">
    <slot name="side-a"></slot>
    <slot name="side-b"></slot>
    <slot name="side-c"></slot>
    <slot name="side-d"></slot>
  </div>

  <!-- <img class="wax" src="/components/vinylRecord/images/record.svg">
  <img class="label" src="/components/vinylRecord/images/label.svg"> -->
  <svg viewBox="0 0 100 100">
    <mask id="glare">
      <rect width="50" height="50" x="50" fill="white" />
    </mask>

    <circle r="50" cx="50" cy="50" fill="#E81F2E" />
    <image class="grooves" width="100" xlink:href="/components/vinylRecord/images/grooves.svg" />

    <g mask="url(#glare)">
      <circle r="50" cx="50" cy="50" fill="rgba(255, 255, 255, 0.3)" />
      <image class="grooves" width="100" xlink:href="/components/vinylRecord/images/grooves.svg#glare" />
    </g>

    <image class="label" width="34.4" x="32.8" y="32.8" xlink:href="/components/vinylRecord/images/label.svg#target-test" />
  </svg>
</template>

<script>
  ((localDocument) => {
    window.appTemplates = window.appTemplates || {};
    window.appTemplates.vinylRecord = localDocument.querySelector('template');
  })(document.currentScript.ownerDocument);
</script>
<script src="./vinylRecord.js" type="module"></script>
